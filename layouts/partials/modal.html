<div x-data="{ modalOpen: false }" @keydown.escape.window="modalOpen = false" :class="{ 'z-40': modalOpen }" class="relative w-auto h-auto">
  <button @click="modalOpen=true" class="px-4 py-2 bg-primary-500 text-white text-sm rounded shadow hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500">Request Slack Invite</button>
  <template x-teleport="body">
    <div x-show="modalOpen" class="fixed top-0 left-0 z-[99] flex items-center justify-center w-screen h-screen" x-cloak>
      <div x-show="modalOpen" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-300" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" @click="modalOpen=false" class="absolute inset-0 w-full h-full bg-neutral-900 backdrop-blur-sm bg-opacity-70"></div>
      <div x-show="modalOpen" x-trap.inert.noscroll="modalOpen" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 -translate-y-2 sm:scale-95" x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" x-transition:leave-end="opacity-0 -translate-y-2 sm:scale-95" class="relative w-full py-6 bg-neutral border shadow-lg px-7 m-4 sm:m-0 border-neutral-200 sm:max-w-lg rounded-lg">
        <div class="flex items-center justify-between">
          <h3 class="text-lg text-neutral-600 font-semibold">Request Invitation</h3>
          <button @click="modalOpen=false" class="absolute top-0 right-0 flex items-center justify-center w-8 h-8 mt-5 mr-5 text-neutral-600 rounded-full hover:text-neutral-800 hover:bg-neutral-50">
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
          </button>
        </div>
        <div class="relative w-auto pb-8">
          <form id="submit-email" class="space-y-4" action="#" autocomplete="off">
            <div>
              <p class="text-sm text-left lg:text-base text-neutral-500 my-4">Submit your email address and you will get an invite shortly thereafter with a link to the Slack channel.</p>
              <p id="invitation-sent" style="display: none; color: #64748b; margin-bottom: 8px">Invitation sent! You should get an email shortly!</p>
              <p id="invitation-wait" style="display: none; color: #c08552; margin-bottom: 8px">Please wait while we process your request...</p>
              <p id="invitation-pending" style="display: none; color: #64748b; margin-bottom: 8px">Your invitation is still pending!</p>
              <p id="invitation-already" style="display: none; color: #64748b; margin-bottom: 8px">You are already on the team!</p>
              <p id="invitation-error" style="display: none; color: #f50610; margin-bottom: 8px">There was an error...please try again later.</p>
              <p id="invitation-email-format" style="display: none; color: #f50610; margin-bottom: 8px">Your email appears invalid.</p>
              <input type="email" name="email" id="email" class="bg-neutral-50 border border-neutral-300 text-neutral-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5" placeholder="Email Address" required />
            </div>
          </form>
        </div>
        <div class="flex items-center justify-end gap-4">
          <button type="button" class="ms-3 text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10" @click="modalOpen = false">Close</button>
          <button type="button" class="submit-email-form text-white bg-primary-500 hover:bg-primary-600 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">Request</button>
        </div>
      </div>
    </div>
  </template>
</div>
